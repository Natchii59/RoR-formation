<h1>Articles du blog</h1>

<table class="table">
  <thead>
  <tr>
    <td>ID</td>
    <td>Nom</td>
    <td>Contenu</td>
    <td>Catégorie</td>
    <td>Tags</td>
    <td>Actions</td>
  </tr>
  </thead>

  <tbody>
  <% @posts.each do |post| %>
    <tr>
      <td><%= post.id %></td>
      <td><%= post.name %></td>
      <td><%= post.content %></td>
      <td><%= post.category.name %></td>
      <td>
        <%= post.tags.map(&:name).join(", ") %>
      </td>
      <td class="d-flex gap-1">
        <%= button_to "Détails", post_path(post.id), method: :get, class: "btn btn-primary" %>
        <%= button_to "Éditer", edit_post_path(post.id), method: :get, class: "btn btn-success" %>
        <%= button_to "Supprimer", post, method: :delete, form: { data: { turbo_confirm: "Êtes-vous sûr ?" } }, class: "btn btn-danger" %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>

<p>
  <a href="<%= new_post_path %>" class="btn btn-success">Créer un nouvel article</a>
</p>
